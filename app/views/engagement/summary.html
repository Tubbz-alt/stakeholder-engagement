
{% extends "layout.html" %}

{% block pageTitle %}
    {{serviceName}} - Record contact with a stakeholder
{% endblock %}

{% block beforeContent %}
     {{ govukBackLink({
        text: "Back",
        href: "/engagement"
    }) }}
{% endblock %}

{% block content %}

{% set otherTheme %}

     {{ govukInput({
        id: "stakeholder-other-theme",
        name: "stakeholder-other-theme",
        value: data['stakeholder-other-theme'],
        label: {
            text: "Other themes"
        },
        hint: {
            text: "Seperate each theme with a comma"
        },
        classes: "govuk-!-width-three-quarters"
    }) }}

{% endset %}

    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
            
            <h1 class="govuk-heading-l">
                <span class="govuk-caption-l">Record contact with a stakeholder</span>
                Engagement summary
            </h1>
            <form action="next-steps" method="post" class="form">
            {# -------------------------------------------------------------------------------------- #}
            <pre>
                {{ data  | dump(2) }}
            </pre>
            {# -------------------------------------------------------------------------------------- #}
            {% call govukFieldset({
                }) %}               

                {{ govukTextarea({
                    name: "stakeholder-summary-of-contact",
                    id: "stakeholder-summary-of-contact",
                    value: data['stakeholder-summary-of-contact'],
                    label: {
                        text: "Summary of contact"
                    },
                    hint: {
                        text: "Provide the key points, issues, risks, etc discussed with the stakeholder"
                    }
                }) }}

                {{ govukCheckboxes({
                    idPrefix: "stakeholder-themes",
                    name: "stakeholder-themes",
                    value: data['stakeholder-themes'],
                    fieldset: {
                        legend: {
                        text: "Which themes did you cover?",
                        isPageHeading: true,
                        classes: "govuk-fieldset__legend--m"
                        }
                    },
                    items: [
                        {
                            value: "communities",
                            text: "Communities",
                            checked: checked('stakeholder-themes','communities')
                        },
                        {
                            value: "housing",
                            text: "Housing",
                            checked: checked('stakeholder-themes','housing')
                        },
                        {
                            value: "jobs-and-growth",
                            text: "Jobs and growth",
                            checked: checked('stakeholder-themes','jobs-and-growth')
                        },
                        {
                            value: "local-disruption",
                            text: "Local disruption",
                            checked: checked('stakeholder-themes','local-disruption')
                        },
                        {
                            value: "local-economies",
                            text: "Local economies",
                            checked: checked('stakeholder-themes','local-economies')
                        },
                        {
                            value: "local-government",
                            text: "Local government",
                            checked: checked('stakeholder-themes','local-government')
                        },
                        {
                            value: "local-resilience",
                            text: "Local resilience",
                            checked: checked('stakeholder-themes','local-resilience')
                        },
                        {
                            value: "local-service-deliver",
                            text: "Local service delivery",
                            checked: checked('stakeholder-themes','local-service-deliver')
                        },
                        {
                            value: "other",
                            text: "Other",
                            checked: checked('stakeholder-themes','other'),
                            conditional : {
                                html : otherTheme
                            }
                        }
                    ]
                }) }}

                {{ govukRadios({
                    classes: "govuk-radios--inline",
                    idPrefix: "stakeholder-escalated",
                    name: "stakeholder-escalated",
                    value: data['stakeholder-escalated'],
                    fieldset: {
                        legend: {
                            text: "Have you escalated anything as a result of this contact?",
                            isPageHeading: true,
                            classes: "govuk-fieldset__legend--m"
                        }
                    },
                    items: [
                        {
                            value: "yes",
                            text: "Yes",
                            checked: checked('stakeholder-escalated','yes')
                        },
                        {
                            value: "no",
                            text: "No",
                            checked: checked('stakeholder-escalated','no')
                        }
                    ]
                }) }}

            {% endcall %}

            {{ govukButton({
                text: "Save and continue",
                classes: "govuk-button"
            }) }}
            </form>
        </div>

        <div class="govuk-grid-column-one-third">
            {% include "includes/aside.html" %}
        </div>
    </div>

{% endblock %}
